# Тест звуковых волн

GUI‑утилита принимает PCM, возвращённый устройством Xiaozhi по `UDP`, строит представления во временной и частотной области и может сохранять звук на длину окна. Используется для анализа спектра шумов и проверки точности передачи ASCII по акустическому каналу.

Для теста прошивки включите `USE_AUDIO_DEBUGGER` и задайте `AUDIO_DEBUG_UDP_SERVER` равным адресу вашего компьютера.

Генерацию тестовой волны (`demod`) можно выполнить через `sonic_wifi_config.html` или опубликованный в PinMe сервис [«小智声波配网»](https://iqf7jnhi.pinit.eth.limo).

# Журнал испытаний декодера

> `✓` — корректное декодирование при приёме исходного PCM по I2S DIN. `△` — требуется шумоподавление или дополнительные действия для стабильного результата. `X` — даже после шумоподавления декодирование нестабильно.
> Для некоторых АЦП на этапе I2C‑настройки нужны дополнительные меры по снижению шума, поэтому тесты проводились по штатным конфигурациям из каталога `boards`.

| Устройство | ADC | Микрофон | Результат | Примечание |
|-----------|-----|----------|-----------|------------|
| bread-compact | INMP441 | встроенный MEMS | ✓ |
| atk-dnesp32s3-box | ES8311 | | ✓ |
| magiclick-2p5 | ES8311 | | ✓ |
| lichuang-dev | ES7210 | | △ | Во время теста отключите INPUT_REFERENCE |
| kevin-box-2 | ES7210 | | △ | То же, отключите INPUT_REFERENCE |
| m5stack-core-s3 | ES7210 | | △ | То же, отключите INPUT_REFERENCE |
| xmini-c3 | ES8311 | | △ | Нужна дополнительная фильтрация |
| atoms3r-echo-base | ES8311 | | △ | Нужна дополнительная фильтрация |
| atk-dnesp32s3-box0 | ES8311 | | X | Принимает и декодирует, но высокий процент потерь |
| movecall-moji-esp32s3 | ES8311 | | X | Принимает и декодирует, но высокий процент потерь |
